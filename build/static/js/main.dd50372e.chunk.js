(this["webpackJsonpflight-frontend"]=this["webpackJsonpflight-frontend"]||[]).push([[0],{344:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(87),r=n.n(c),i=n(16),l=n(62),j=n(394),d=n(70),o=n(17),u=n(392),h=n(397),b=n(2),m=function(e){var t=e.isCreating,n=e.setIsCreating,a=e.isEditing,s=e.setIsEditing,c=e.createType;if(t)return Object(b.jsx)("div",{className:"channel__container",children:Object(b.jsx)(J,{createType:c,setIsCreating:n})});if(a)return Object(b.jsx)("div",{className:"channel__container",children:Object(b.jsx)(K,{setIsEditing:s})});return Object(b.jsx)("div",{className:" channel__container",children:Object(b.jsx)(u.a,{EmptyStateIndicator:function(){return Object(b.jsxs)("div",{className:"channel-empty__container",children:[Object(b.jsx)("p",{className:"channel-empty__first",children:"This is the beginning of your chat history."}),Object(b.jsx)("p",{className:"channel-empty__second",children:"Send messages, attachments, links, emojis, and more!"})]})},Message:function(e,t){return Object(b.jsx)(h.a,Object(o.a)({},e),t)},children:Object(b.jsx)(B,{setIsEditing:s})})})},O=n(7),p=n(391),x=n(181),v=n(182),g=new d.a,f=function(e){var t=e.logout;return Object(b.jsxs)("div",{className:"channel-list__sidebar",children:[Object(b.jsx)("div",{className:"channel-list__sidebar__icon1",children:Object(b.jsx)("div",{className:"icon1__inner",children:Object(b.jsx)(x.a,{width:180,height:40,style:{width:"200px",fontSize:"30px"}})})}),Object(b.jsx)("div",{className:"channel-list__sidebar__icon2",children:Object(b.jsx)("div",{className:"icon1__inner",onClick:t,children:Object(b.jsx)(v.a,{style:{fontSize:"30px",marginLeft:"3px"}})})})]})},_=function(){return Object(b.jsx)("div",{className:"channel-list__header",children:Object(b.jsx)("p",{className:"channel-list__header__text",children:"Travel App"})})},C=function(e){return e.filter((function(e){return"team"===e.type}))},N=function(e){return e.filter((function(e){return"messaging"===e.type}))},w=function(e){var t=e.isCreating,n=e.setIsCreating,a=e.setCreateType,s=e.setIsEditing,c=e.setToggleContainer,r={members:{$in:[Object(O.b)().client.userID]}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{logout:function(){g.remove("token"),g.remove("userId"),g.remove("username"),g.remove("fullName"),g.remove("avatarURL"),g.remove("hashedPassword"),g.remove("phoneNumber"),window.location.reload()}}),Object(b.jsxs)("div",{className:"channel-list__list__wrapper",children:[Object(b.jsx)(_,{}),Object(b.jsx)(D,{setToggleContainer:c}),Object(b.jsx)(p.a,{filters:r,channelRenderFilterFn:C,List:function(e){return Object(b.jsx)(M,Object(o.a)(Object(o.a)({},e),{},{type:"team",isCreating:t,setIsCreating:n,setCreateType:a,setIsEditing:s,setToggleContainer:c}))},Preview:function(e){return Object(b.jsx)(F,Object(o.a)(Object(o.a)({},e),{},{setIsCreating:n,setIsEditing:s,setToggleContainer:c,type:"team"}))}}),Object(b.jsx)(p.a,{filters:r,channelRenderFilterFn:N,List:function(e){return Object(b.jsx)(M,Object(o.a)(Object(o.a)({},e),{},{type:"messaging",isCreating:t,setIsCreating:n,setCreateType:a,setIsEditing:s,setToggleContainer:c}))},Preview:function(e){return Object(b.jsx)(F,Object(o.a)(Object(o.a)({},e),{},{setIsCreating:n,setIsEditing:s,setToggleContainer:c,type:"messaging"}))}})]})]})},y=function(e){var t=e.setCreateType,n=e.setIsCreating,s=e.setIsEditing,c=Object(a.useState)(!1),r=Object(i.a)(c,2),l=r[0],j=r[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"channel-list__container",children:Object(b.jsx)(w,{setIsCreating:n,setCreateType:t,setIsEditing:s})}),Object(b.jsxs)("div",{className:"channel-list__container-responsive",style:{left:l?"0%":"-89%",backgroundColor:"#005fff"},children:[Object(b.jsx)("div",{className:"channel-list__container-toggle",onClick:function(){return j((function(e){return!e}))}}),Object(b.jsx)(w,{setIsCreating:n,setCreateType:t,setIsEditing:s,setToggleContainer:j})]})]})},I=n(23),S=n(34),k=function(e){var t=e.setCreateType,n=e.setIsCreating,a=e.setIsEditing,s=e.setToggleContainer,c=e.type;return Object(b.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){t(c),n((function(e){return!e})),a(!1),s&&s((function(e){return!e}))},children:Object(b.jsx)("path",{d:"M7 0C3.13438 0 0 3.13438 0 7C0 10.8656 3.13438 14 7 14C10.8656 14 14 10.8656 14 7C14 3.13438 10.8656 0 7 0ZM11 7.5H7.5V11H6.5V7.5H3V6.5H6.5V3H7.5V6.5H11V7.5Z",fill:"white",fillOpacity:"0.66"})})},L=function(){return Object(b.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M8.16602 6.49837H9.83269V4.83171H8.16602V6.49837ZM8.99936 15.665C5.32351 15.665 2.33268 12.6743 2.33268 8.99833C2.33268 5.32253 5.32351 2.33171 8.99936 2.33171C12.6752 2.33171 15.666 5.32253 15.666 8.99833C15.666 12.6743 12.6752 15.665 8.99936 15.665ZM8.99936 0.665039C4.39684 0.665039 0.666016 4.39587 0.666016 8.99833C0.666016 13.6009 4.39684 17.3317 8.99936 17.3317C13.6019 17.3317 17.3327 13.6009 17.3327 8.99833C17.3327 4.39587 13.6019 0.665039 8.99936 0.665039ZM8.16602 13.165H9.83269V8.165H8.16602V13.165Z",fill:"black",fillOpacity:"0.33"})})},T=function(e){var t=e.setIsCreating,n=e.setIsEditing;return Object(b.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){t&&t(!1),n&&n(!1)},children:Object(b.jsx)("path",{d:"M6.10042 6.10051C0.633603 11.5673 0.633603 20.4327 6.10042 25.8995C11.5672 31.3663 20.4326 31.3663 25.8994 25.8995C31.3662 20.4327 31.3662 11.5673 25.8994 6.10051C20.4326 0.633686 11.5672 0.633685 6.10042 6.10051ZM22.3639 11.0503L17.4141 16L22.3639 20.9497L20.9497 22.364L15.9999 17.4142L11.0502 22.364L9.63596 20.9497L14.5857 16L9.63596 11.0503L11.0502 9.63604L15.9999 14.5858L20.9497 9.63604L22.3639 11.0503Z",fill:"var(--primary-color)"})})},E=function(){return Object(b.jsx)("div",{style:{marginLeft:"2px"},children:Object(b.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M14 0C6.26875 0 0 6.26875 0 14C0 21.7313 6.26875 28 14 28C21.7313 28 28 21.7313 28 14C28 6.26875 21.7313 0 14 0ZM21.1812 9.31875L12.4875 20.475C12.4187 20.5438 12.3062 20.6938 12.1687 20.6938C12.025 20.6938 11.9313 20.5938 11.85 20.5125C11.7688 20.4313 6.91875 15.7687 6.91875 15.7687L6.825 15.675C6.7875 15.6187 6.75625 15.55 6.75625 15.475C6.75625 15.4 6.7875 15.3312 6.825 15.275C6.85 15.25 6.86875 15.2313 6.89375 15.2C7.375 14.6938 8.35 13.6687 8.4125 13.6062C8.49375 13.525 8.5625 13.4187 8.7125 13.4187C8.86875 13.4187 8.96875 13.55 9.04375 13.625C9.11875 13.7 11.8562 16.3312 11.8562 16.3312L18.8125 7.39375C18.875 7.34375 18.95 7.30625 19.0312 7.30625C19.1125 7.30625 19.1875 7.3375 19.25 7.3875L21.1625 8.89375C21.2125 8.95625 21.2437 9.03125 21.2437 9.1125C21.25 9.19375 21.2188 9.2625 21.1812 9.31875Z",fill:"#1D9D67"})})})},U=function(){return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{fill:"#fff",fillOpacity:"0.66",fillRule:"evenodd",d:"M2.7 6.95a4.25 4.25 0 117.306 2.954 1.001 1.001 0 00-.102.102A4.25 4.25 0 012.7 6.95zm7.906 5.07a6.25 6.25 0 111.414-1.414l2.987 2.987a1 1 0 11-1.414 1.414l-2.987-2.987z",clipRule:"evenodd"})})},D=function(e){var t=e.setToggleContainer,n=Object(O.b)(),s=n.client,c=n.setActiveChannel,r=Object(a.useState)(""),l=Object(i.a)(r,2),j=l[0],d=l[1],o=Object(a.useState)(!1),u=Object(i.a)(o,2),h=u[0],m=u[1],p=Object(a.useState)([]),x=Object(i.a)(p,2),v=x[0],g=x[1],f=Object(a.useState)([]),_=Object(i.a)(f,2),C=_[0],N=_[1];Object(a.useEffect)((function(){j||(g([]),N([]))}),[j]);var w=function(){var e=Object(S.a)(Object(I.a)().mark((function e(t){var n,a,c,r,l,j;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.queryChannels({type:"team",name:{$autocomplete:t},members:{$in:[s.userID]}}),a=s.queryUsers({id:{$ne:s.userID},name:{$autocomplete:t}}),e.next=5,Promise.all([n,a]);case 5:c=e.sent,r=Object(i.a)(c,2),l=r[0],j=r[1].users,l.length&&g(l),j.length&&N(j),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),d("");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"channel-search__container",children:[Object(b.jsxs)("div",{className:"channel-search__input__wrapper",children:[Object(b.jsx)("div",{className:"channel-serach__input__icon",children:Object(b.jsx)(U,{})}),Object(b.jsx)("input",{className:"channel-search__input__text",placeholder:"Search",type:"text",value:j,onChange:function(e){e.preventDefault(),m(!0),d(e.target.value),w(e.target.value)}})]}),j&&Object(b.jsx)(de,{teamChannels:v,directChannels:C,loading:h,setChannel:function(e){d(""),c(e)},setQuery:d,setToggleContainer:t})]})},M=function(e){var t=e.setToggleContainer,n=e.children,a=e.error,s=void 0!==a&&a,c=e.loading,r=e.type,i=e.isCreating,l=e.setIsCreating,j=e.setCreateType,d=e.setIsEditing;return s?"team"===r?Object(b.jsx)("div",{className:"team-channel-list",children:Object(b.jsx)("p",{className:"team-channel-list__message",children:"Connection error, please wait a moment and try again."})}):null:c?Object(b.jsx)("div",{className:"team-channel-list",children:Object(b.jsxs)("p",{className:"team-channel-list__message loading",children:["team"===r?"Channels":"Messages"," loading..."]})}):Object(b.jsxs)("div",{className:"team-channel-list",children:[Object(b.jsxs)("div",{className:"team-channel-list__header",children:[Object(b.jsx)("p",{className:"team-channel-list__header__title",children:"team"===r?"Channels":"Direct Messages"}),Object(b.jsx)(k,{isCreating:i,setIsCreating:l,setCreateType:j,setIsEditing:d,type:"team"===r?"team":"messaging",setToggleContainer:t})]}),n]})},P=n(50),F=function(e){var t=e.setActiveChannel,n=e.setIsCreating,a=e.setIsEditing,s=e.setToggleContainer,c=e.channel,r=e.type,i=Object(O.b)(),l=i.channel,j=i.client,d=function(){var e,t;return Object(b.jsxs)("p",{className:"channel-preview__item",children:["# ",(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.name)||(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.id)]})},o=function(){var e,t,n,a,s,r,i,l,d,o,u=Object.values(c.state.members).filter((function(e){return e.user.id!==j.userID}));return console.log(u[0]),Object(b.jsxs)("div",{className:"channel-preview__item single",children:[Object(b.jsx)(P.a,{image:null===(e=u[0])||void 0===e||null===(t=e.user)||void 0===t?void 0:t.image,name:(null===(n=u[0])||void 0===n||null===(a=n.user)||void 0===a?void 0:a.fullName)||(null===(s=u[0])||void 0===s||null===(r=s.user)||void 0===r?void 0:r.id),size:24}),Object(b.jsx)("p",{children:(null===(i=u[0])||void 0===i||null===(l=i.user)||void 0===l?void 0:l.fullName)||(null===(d=u[0])||void 0===d||null===(o=d.user)||void 0===o?void 0:o.id)})]})};return Object(b.jsx)("div",{className:(null===c||void 0===c?void 0:c.id)===(null===l||void 0===l?void 0:l.id)?"channel-preview__wrapper__selected":"channel-preview__wrapper",onClick:function(){n(!1),a(!1),t(c),s&&s((function(e){return!e}))},children:"team"===r?Object(b.jsx)(d,{}):Object(b.jsx)(o,{})})},R=n(13),q=n(376),A=n(187),H=n(188),V=n(393),Z=n(8),z=s.a.createContext({}),$=function(e){var t,n=e.setIsEditing,a=Object(Z.b)(),s=a.channel,c=a.watcher_count,r=Object(O.b)().client,i=function(){var e=Object.values(s.state.members).filter((function(e){return e.user.id!==r.userID})),t=e.length-3;return"messaging"===s.type?Object(b.jsxs)("div",{className:"team-channel-header__name-wrapper",children:[e.map((function(e,t){var n=e.user;return Object(b.jsxs)("div",{className:"team-channel-header__name-multi",children:[Object(b.jsx)(P.a,{image:n.image,name:n.fullName||n.id,size:32}),Object(b.jsx)("p",{className:"team-channel-header__name user",children:n.fullName||n.id})]},t)})),t>0&&Object(b.jsxs)("p",{className:"team-channel-header__name user",children:["and ",t," more"]})]}):Object(b.jsxs)("div",{className:"team-channel-header__channel-wrapper",children:[Object(b.jsxs)("p",{className:"team-channel-header__name",children:["# ",s.data.name]}),Object(b.jsx)("span",{style:{display:"flex"},onClick:function(){return n(!0)},children:Object(b.jsx)(L,{})})]})};return Object(b.jsxs)("div",{className:"team-channel-header__container",children:[Object(b.jsx)(i,{}),Object(b.jsx)("div",{className:"team-channel-header__right",children:Object(b.jsx)("p",{className:"team-channel-header__right-text",children:(t=c,t?1===t?"1 user online":"".concat(t," users online"):"No users online")})})]})},B=function(e){var t=e.setIsEditing,n=Object(a.useState)(!1),s=Object(i.a)(n,2),c=s[0],r=s[1],l=Object(R.b)().sendMessage;return Object(b.jsx)(z.Provider,{value:{giphyState:c,setGiphyState:r},children:Object(b.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(b.jsxs)(q.a,{children:[Object(b.jsx)($,{setIsEditing:t}),Object(b.jsx)(A.a,{}),Object(b.jsx)(H.a,{overrideSubmitHandler:function(e){var t,n={attachments:e.attachments,mentioned_users:e.mentioned_users,parent_id:null===(t=e.parent)||void 0===t?void 0:t.id,parent:e.parent,text:e.text};c&&(n=Object(o.a)(Object(o.a)({},n),{},{text:"/giphy ".concat(e.text)})),l&&(l(n),r(!1))}})]}),Object(b.jsx)(V.a,{})]})})},G=function(e){var t=e.channelName,n=void 0===t?"":t,a=e.setChannelName;return Object(b.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(b.jsx)("p",{children:"Name"}),Object(b.jsx)("input",{value:n,onChange:function(e){e.preventDefault(),a(e.target.value)},placeholder:"channel-name"}),Object(b.jsx)("p",{children:"Add Members"})]})},J=function(e){var t=e.createType,n=e.setIsCreating,s=Object(O.b)(),c=s.client,r=s.setActiveChannel,l=Object(a.useState)([c.userID||""]),j=Object(i.a)(l,2),d=j[0],o=j[1],u=Object(a.useState)(""),h=Object(i.a)(u,2),m=h[0],p=h[1],x=function(){var e=Object(S.a)(Object(I.a)().mark((function e(a){var s;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,c.channel(t,m,{name:m,members:d});case 4:return s=e.sent,e.next=7,s.watch();case 7:p(""),n(!1),o([c.userID]),r(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"create-channel__container",children:[Object(b.jsxs)("div",{className:"create-channel__header",children:[Object(b.jsx)("p",{children:"team"===t?"Create a New Channel":"Send a Direct Message"}),Object(b.jsx)(T,{setIsCreating:n})]}),"team"===t&&Object(b.jsx)(G,{channelName:m,setChannelName:p}),Object(b.jsx)(ie,{setSelectedUsers:o}),Object(b.jsx)("div",{className:"create-channel__button-wrapper",onClick:x,children:Object(b.jsx)("p",{children:"team"===t?"Create Channel":"Create Message Group"})})]})},Q=function(e){var t=e.channelName,n=void 0===t?"":t,a=e.setChannelName;return Object(b.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(b.jsx)("p",{children:"Name"}),Object(b.jsx)("input",{value:n,onChange:function(e){e.preventDefault(),a(e.target.value)},placeholder:"channel-name"}),Object(b.jsx)("p",{children:"Add Members"})]})},K=function(e){var t,n=e.setIsEditing,s=Object(O.b)().channel,c=Object(a.useState)(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.name),r=Object(i.a)(c,2),l=r[0],j=r[1],d=Object(a.useState)([]),o=Object(i.a)(d,2),u=o[0],h=o[1],m=function(){var e=Object(S.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(l!==(s.data.name||s.data.id))){e.next=5;break}return e.next=5,s.update({name:l},{text:"Channel name changed to ".concat(l)});case 5:if(!u.length){e.next=8;break}return e.next=8,s.addMembers(u);case 8:j(null),n(!1),h([]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"edit-channel__container",children:[Object(b.jsxs)("div",{className:"edit-channel__header",children:[Object(b.jsx)("p",{children:"Edit Channel"}),Object(b.jsx)(T,{setIsEditing:n})]}),Object(b.jsx)(Q,{channelName:l,setChannelName:j}),Object(b.jsx)(ie,{setSelectedUsers:h}),Object(b.jsx)("div",{className:"edit-channel__button-wrapper",onClick:m,children:Object(b.jsx)("p",{children:"Save Changes"})})]})},W=(n(18),n(63)),X=n(78),Y=n.n(X),ee=n.p+"static/media/signup.f535f5e2.jpg",te=new d.a,ne={fullName:"",username:"",password:"",confirmPassword:"",phoneNumber:"",avatarURL:""},ae=function(){var e=Object(a.useState)(ne),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!0),r=Object(i.a)(c,2),l=r[0],j=r[1],d=function(e){s(Object(o.a)(Object(o.a)({},n),{},Object(W.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(S.a)(Object(I.a)().mark((function e(t){var a,s,c,r,i,j,d,o,u,h;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.username,s=n.password,c=n.phoneNumber,r=n.avatarURL,"https://flight-websocket.onrender.com/",e.next=5,Y.a.post("".concat("https://flight-websocket.onrender.com/","/").concat(l?"signup":"login"),{username:a,password:s,fullName:n.fullName,phoneNumber:c,avatarURL:r});case 5:i=e.sent,j=i.data,d=j.token,o=j.userId,u=j.hashedPassword,h=j.fullName,te.set("token",d),te.set("username",a),te.set("fullName",h),te.set("userId",o),l&&(te.set("phoneNumber",c),te.set("avatarURL",r),te.set("hashedPassword",u)),window.location.reload();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"auth__form-container",children:[Object(b.jsx)("div",{className:"auth__form-container_fields",children:Object(b.jsxs)("div",{className:"auth__form-container_fields-content",children:[Object(b.jsx)("p",{children:l?"Sign Up":"Sign In"}),Object(b.jsxs)("form",{onSubmit:u,children:[l&&Object(b.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(b.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),Object(b.jsx)("input",{name:"fullName",type:"text",placeholder:"Full Name",onChange:d,required:!0})]}),Object(b.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(b.jsx)("label",{htmlFor:"username",children:"Username"}),Object(b.jsx)("input",{name:"username",type:"text",placeholder:"Username",onChange:d,required:!0})]}),l&&Object(b.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(b.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number"}),Object(b.jsx)("input",{name:"phoneNumber",type:"text",placeholder:"Phone Number",onChange:d,required:!0})]}),l&&Object(b.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(b.jsx)("label",{htmlFor:"avatarURL",children:"Avatar URL"}),Object(b.jsx)("input",{name:"avatarURL",type:"text",placeholder:"Avatar URL",onChange:d,required:!0})]}),Object(b.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:d,required:!0})]}),l&&Object(b.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(b.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(b.jsx)("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:d,required:!0})]}),Object(b.jsx)("div",{className:"auth__form-container_fields-content_button",children:Object(b.jsx)("button",{children:l?"Sign Up":"Sign In"})})]}),Object(b.jsx)("div",{className:"auth__form-container_fields-account",children:Object(b.jsxs)("p",{children:[l?"Already have an account?":"Don't have an account?",Object(b.jsx)("span",{onClick:function(){j((function(e){return!e}))},children:l?"Sign In":"Sign Up"})]})})]})}),Object(b.jsx)("div",{className:"auth__form-container_image",children:Object(b.jsx)("img",{src:ee,alt:"sign in"})})]})},se=n(190),ce=function(e){var t=e.children;return Object(b.jsxs)("div",{className:"user-list__container",children:[Object(b.jsxs)("div",{className:"user-list__header",children:[Object(b.jsx)("p",{children:"User"}),Object(b.jsx)("p",{children:"Invite"})]}),t]})},re=function(e){var t=e.user,n=e.setSelectedUsers,s=Object(a.useState)(!1),c=Object(i.a)(s,2),r=c[0],l=c[1];return Object(b.jsxs)("div",{className:"user-item__wrapper",onClick:function(){n(r?function(e){return e.filter((function(e){return e!==t.id}))}:function(e){return[].concat(Object(se.a)(e),[t.id])}),l((function(e){return!e}))},children:[Object(b.jsxs)("div",{className:"user-item__name-wrapper",children:[Object(b.jsx)(P.a,{image:t.image,name:t.fullName||t.id,size:32}),Object(b.jsx)("p",{className:"user-item__name",children:t.fullName||t.id})]}),r?Object(b.jsx)(E,{}):Object(b.jsx)("div",{className:"user-item__invite-empty"})]})},ie=function(e){var t=e.setSelectedUsers,n=Object(O.b)().client,s=Object(a.useState)([]),c=Object(i.a)(s,2),r=c[0],l=c[1],j=Object(a.useState)(!1),d=Object(i.a)(j,2),o=d[0],u=d[1],h=Object(a.useState)(!1),m=Object(i.a)(h,2),p=m[0],x=m[1],v=Object(a.useState)(!1),g=Object(i.a)(v,2),f=g[0],_=g[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(S.a)(Object(I.a)().mark((function e(){var t;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.prev=3,e.next=6,n.queryUsers({id:{$ne:n.userID}},{id:1},{limit:8});case 6:(t=e.sent).users.length?l(t.users):x(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),_(!0);case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();n&&e()}),[]),f?Object(b.jsx)(ce,{children:Object(b.jsx)("div",{className:"user-list__message",children:"Error loading, please refresh and try again."})}):p?Object(b.jsx)(ce,{children:Object(b.jsx)("div",{className:"user-list__message",children:"No users found."})}):Object(b.jsx)(ce,{children:o?Object(b.jsx)("div",{className:"user-list__message",children:"Loading users..."}):null===r||void 0===r?void 0:r.map((function(e,n){return Object(b.jsx)(re,{index:n,user:e,setSelectedUsers:t},e.id)}))})},le=function(){var e=Object(S.a)(Object(I.a)().mark((function e(t){var n,a,s,c,r,l,j,d,o;return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,a=t.setActiveChannel,s=t.channel,c=t.setChannel,r={type:"messaging",member_count:2,members:{$eq:[n.user.id,n.userID]}},e.next=4,n.queryChannels(r);case 4:if(l=e.sent,j=Object(i.a)(l,1),!(d=j[0])){e.next=9;break}return e.abrupt("return",a(d));case 9:return o=n.channel("messaging",{members:[s.id,n.userID]}),c(o),e.abrupt("return",a(o));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e){var t=e.channel,n=e.focusedId,a=e.type,s=e.setChannel,c=e.setToggleContainer,r=Object(O.b)(),i=r.client,l=r.setActiveChannel;return"channel"===a?Object(b.jsxs)("div",{onClick:function(){s(t),c&&c((function(e){return!e}))},className:n===t.id?"channel-search__result-container__focused":"channel-search__result-container",children:[Object(b.jsx)("div",{className:"result-hashtag",children:"#"}),Object(b.jsx)("p",{className:"channel-search__result-text",children:t.data.name})]}):Object(b.jsx)("div",{onClick:Object(S.a)(Object(I.a)().mark((function e(){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le({client:i,setActiveChannel:l,channel:t,setChannel:s}),c&&c((function(e){return!e}));case 2:case"end":return e.stop()}}),e)}))),className:n===t.id?"channel-search__result-container__focused":"channel-search__result-container",children:Object(b.jsxs)("div",{className:"channel-search__result-user",children:[Object(b.jsx)(P.a,{image:t.image||void 0,name:t.name,size:24}),Object(b.jsx)("p",{className:"channel-search__result-text",children:t.name})]})})},de=function(e){var t=e.teamChannels,n=e.directChannels,a=e.focusedId,s=e.loading,c=e.setChannel,r=e.setToggleContainer;return Object(b.jsxs)("div",{className:"channel-search__results",children:[Object(b.jsx)("p",{className:"channel-search__results-header",children:"Channels"}),s&&!t.length&&Object(b.jsx)("p",{className:"channel-search__results-header",children:Object(b.jsx)("i",{children:"Loading..."})}),s||t.length?null===t||void 0===t?void 0:t.map((function(e,t){return Object(b.jsx)(je,{channel:e,focusedId:a,setChannel:c,type:"channel",setToggleContainer:r},t)})):Object(b.jsx)("p",{className:"channel-search__results-header",children:Object(b.jsx)("i",{children:"No channels found"})}),Object(b.jsx)("p",{className:"channel-search__results-header",children:"Users"}),s&&!n.length&&Object(b.jsx)("p",{className:"channel-search__results-header",children:Object(b.jsx)("i",{children:"Loading..."})}),s||n.length?null===n||void 0===n?void 0:n.map((function(e,t){return Object(b.jsx)(je,{channel:e,focusedId:a,setChannel:c,type:"user",setToggleContainer:r},t)})):Object(b.jsx)("p",{className:"channel-search__res ults-header",children:Object(b.jsx)("i",{children:"No direct messages found"})})]})},oe=(n(343),n(344),new d.a),ue=oe.get("token"),he=l.a.getInstance("pqbq6waxtf2e");ue&&he.connectUser({id:oe.get("userId"),name:oe.get("username"),fullName:oe.get("fullName"),image:oe.get("avatarURL"),hashedPassword:oe.get("hashedPassword"),phoneNumber:oe.get("phoneNumber")},ue);var be=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(i.a)(c,2),l=r[0],d=r[1],o=Object(a.useState)(!1),u=Object(i.a)(o,2),h=u[0],O=u[1];return ue?Object(b.jsx)("div",{className:"app__wrapper",children:Object(b.jsxs)(j.a,{client:he,theme:"team light",children:[Object(b.jsx)(y,{isCreating:l,setIsCreating:d,setCreateType:s,setIsEditing:O}),Object(b.jsx)(m,{isCreating:l,setIsCreating:d,isEditing:h,setIsEditing:O,createType:n})]})}):Object(b.jsx)(ae,{})};r.a.render(Object(b.jsx)(be,{}),document.getElementById("root"))}},[[357,1,2]]]);
//# sourceMappingURL=main.dd50372e.chunk.js.map